<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>help:scripting - Workcraft</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="noindex,nofollow"/>
<meta name="keywords" content="help,scripting"/>
<link rel="search" type="application/opensearchdescription+xml" href="lib/exe/opensearch.html" title="Workcraft"/>
<link rel="start" href="scripting.html"/>
<link rel="contents" href="scripting.html" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Changes" />
<link rel="alternate" type="application/rss+xml" title="Current namespace" />
<link rel="edit" title="Edit this page" href="scripting.html"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="_export/xhtml/help/scripting.xhtml"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="_export/raw/help/scripting.raw"/>
<link rel="canonical" href="https://workcraft.org/help/scripting"/>
<link rel="stylesheet" type="text/css" href="lib/exe/css.php.t.dokuwiki-light-export.css"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='help';var SIG=' --- //[[danilovesky@gmail.com|Danil Sokolov]] 2018/01/01 21:55//';var JSINFO = {"id":"help:scripting","namespace":"help","fastwiki":{"secedit":1,"preview":1,"fastpages":1,"save":0,"fastshow":0,"fastshow_same_ns":1,"fastshow_include":"","fastshow_exclude":"","preload":false,"preload_head":"====47hsjwycv782nwncv8b920m8bv72jmdm3929bno3b3====","preload_batchsize":false,"preload_per_page":false,"locktime":840,"usedraft":1,"text_btn_show":"Show page","templatename":"dokuwiki-light-export"},"act":"show","ajax":"ajax","move_renameokay":true,"plugin_folded":{"hide":"hide","reveal":"reveal"}};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="lib/exe/jquery.php.t.dokuwiki-light-export.js"></script>
<script type="text/javascript" charset="utf-8" src="lib/exe/js.php.t.dokuwiki-light-export.js"></script>
<!--<![endif]-->
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="favicon.ico" />
<link rel="apple-touch-icon" href="apple-touch-icon.png" />
    </head>

<body>
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_dokuwiki-light-export loggedIn    ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

        <h1><a href="start.html"  title="Workcraft start page"><img src="logo.png" width="327" height="57" alt="" /></a></h1>
    
    <div class="tools group">
        <!-- USER TOOLS -->
<!--
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="scripting.html"  class="action admin" rel="nofollow" title="Admin">Admin</a></li><li><a href="scripting.html"  class="action profile" rel="nofollow" title="Profile">Profile</a></li><li><a href="scripting.html"  class="action logout" rel="nofollow" title="Log Out">Log Out</a></li>                </ul>
            </div>
        -->

        <!-- SEARCH TOOLS -->
<!--
        <div id="dokuwiki__searchtools">
            <h3 class="a11y"></h3>
            <form action="start.html" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" placeholder="Search" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><button type="submit" title="Search">Search</button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>        </div>
-->

        <!-- SITE TOOLS -->
<!--
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
                            <div class="mobileTools">
                    <form action="/doku.html.doku.php.html" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="help:scripting" /><input type="hidden" name="sectok" value="b350ea5e1c4a6de7d20b9a6e04ea79b8" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Edit this page</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Changes</option><option value="media">Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="logout">Log Out</option><option value="profile">Profile</option><option value="admin">Admin</option></optgroup></select><button type="submit">&gt;</button></div></form>                </div>
                <ul>
                    <li><a href="scripting.html"  class="action recent" accesskey="r" rel="nofollow" title="Changes [R]">Changes</a></li><li><a href="scripting.html"  class="action media" rel="nofollow" title="Manager">Manager</a></li><li><a href="scripting.html"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>                </ul>
                    </div>
-->
    </div>

    <!-- BREADCRUMBS -->
<!--
    -->



    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">
                
                <div class="pageId"><span>help:scripting</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <div class="plugin_fastwiki_marker" style="display:none"></div><!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="#modes_of_script_execution">Modes of script execution</a></div></li>
<li class="level1"><div class="li"><a href="#special_symbols_in_file_names">Special symbols in file names</a></div></li>
<li class="level1"><div class="li"><a href="#functions_and_variables">Functions and variables</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#help">Help</a></div></li>
<li class="level2"><div class="li"><a href="#text_output">Text output</a></div></li>
<li class="level2"><div class="li"><a href="#gui_and_exit">GUI and exit</a></div></li>
<li class="level2"><div class="li"><a href="#global_variables">Global variables</a></div></li>
<li class="level2"><div class="li"><a href="#workspace_functions">Workspace functions</a></div></li>
<li class="level2"><div class="li"><a href="#file_operations">File operations</a></div></li>
<li class="level2"><div class="li"><a href="#configuration">Configuration</a></div></li>
<li class="level2"><div class="li"><a href="#command_execution">Command execution</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#script_examples">Script examples</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#basic">Basic</a></div></li>
<li class="level2"><div class="li"><a href="#advanced">Advanced</a></div></li>
</ul></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 id="scripting_interface">Scripting interface</h1>
<div class="level1">

<p>
Workcraft supports scripting using JavaScript language.
</p>

</div>

<h2 id="modes_of_script_execution">Modes of script execution</h2>
<div class="level2">

<p>
Two modes of script execution are supported:
</p>
<ul>
<li class="level"><div class="li">
 Interactively, by entering the script commands in the <em>Javascript</em> tab and pressing <kbd class="__keyboard">Ctrl</kbd>+<kbd class="__keyboard">Enter</kbd> to execute them. The output of the commands is redirected to the <em>Output</em> tab.
</div></li>
<li class="level"><div class="li">
 In batch mode, by passing the script file name after the <code>-exec:</code> command line parameter.
</div></li>
</ul>


<p>
For batch mode it is often convenient to start Workcraft without <abbr title="Graphical User Interface">GUI</abbr>, by using the <code>-nogui</code> command line parameter, as follows (we presume that Workcraft home is in the search PATH and the platform-specific <code>.sh</code>/<code>.bat</code> extension of Workcraft runner is omitted):
</p>
<pre class="code shell">workcraft -nogui -exec:SCRIPT_FILE_NAME</pre>

<p>
Note that the script file name should include the path to the file, either absolute or relative to the Workcraft home directory (where <code>workcraft</code> starter script is located).
</p>

<p>
If a script contains file operation commands, such as loading work files or exporting the models, then all the file names in these commands are relative to the <em>working directory</em>. By default this coincides with Workcraft home, however, an alternative working directory can be passed after the <code>-dir:</code> command line parameter, as follows:
</p>
<pre class="code shell">workcraft -nogui -exec:SCRIPT_FILE_NAME -dir:WORKING_DIRECTORY_PATH</pre>

<p>
In Bash shell, for a short JavaScript snippet, it may be more convenient to pass it directly in the command line, as a <em>process substitution</em> form of redirection:
</p>
<pre class="code shell">workcraft -nogui -exec:&lt;(echo 'JAVASCRIPT CODE')</pre>

</div>

<h2 id="special_symbols_in_file_names">Special symbols in file names</h2>
<div class="level2">

<p>
If you have to use a backslash symbol <code>\</code> in your script, e.g. in a Windows file path, then do not forget to escape it. Also if the file path contains spaces or other suspicious symbols, then put this path in quotes in the command line.
</p>

<p>
For example, if you want to run a script <em>“C:\Workcraft Projects\test1.js”</em> that loads a model from <em>“C:\Workcraft Projects\models\test1.work”</em> and save its statistics in <em>“C:\Temp\test1.txt”</em>, then the Windows command line would look like this (notice the quotes around the paths with spaces):
</p>
<pre class="code shell">workcraft.bat -dir:&quot;C:\Workcraft Projects&quot; -exec:&quot;C:\Workcraft Projects\test1.js&quot;</pre>

<p>
and the script would be as follows (notice the double backslashes):
</p>
<dl class="file">
<dt><a href="_export/code/help/scripting/codeblock.4.code" title="Download Snippet" class="mediafile mf_js">test1.js</a></dt>
<dd><pre class="code file javascript">work <span class="sy0">=</span> load<span class="br0">&#40;</span><span class="st0">&quot;models<span class="es0">\\</span>test1.work&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
stat <span class="sy0">=</span> statModel<span class="br0">&#40;</span>work<span class="br0">&#41;</span><span class="sy0">;</span>
write<span class="br0">&#40;</span>stat<span class="sy0">,</span> <span class="st0">&quot;C:<span class="es0">\\</span>Temp<span class="es0">\\</span>test1.txt&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
exit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</dd></dl>

<p>
Here the <em>“models\test1.work”</em> is relative to the working directory <em>“C:\Workcraft Projects”</em>, while the file <em>“C:\Temp\test1.txt”</em> is specified by its absolute path.
</p>

</div>

<h2 id="functions_and_variables">Functions and variables</h2>
<div class="level2">

<p>
Here is a list of predefined wrapper functions, partitioned into categories, and global variables available for scripting.
</p>

</div>

<h3 id="help">Help</h3>
<div class="level3">
<ul>
<li class="level"><div class="li">
 <code>help(substring)</code> – output all the helper functions whose name contains the given <code>substring</code>
</div></li>
<li class="level"><div class="li">
 <code>apropos(substring)</code> – output all the helper functions whose name or description contains the given <code>substring</code>
</div></li>
<li class="level"><div class="li">
 <code>getHelp(substring, searchDescription)</code> – return a string with all helper functions whose name contains the <code>substring</code>; if the <code>searchDescription</code> is true, then also search the function descriptions
</div></li>
</ul>


</div>

<h3 id="text_output">Text output</h3>
<div class="level3">
<ul>
<li class="level"><div class="li">
 <code>print(msg)</code> – output <code>msg</code> to <em>stdout</em> and add a newline
</div></li>
<li class="level"><div class="li">
 <code>eprint(msg)</code> – output <code>msg</code> to <em>stderr</em> and add a newline
</div></li>
<li class="level"><div class="li">
 <code>write(text, fileName)</code> – write <code>text</code> to a file <code>fileName</code> (relative to the working directory) or to <em>stdout</em> if <code>fileName</code> is skipped
</div></li>
</ul>


<p>
Note that conventional Java print functions can be also used, e.g. if you need to output text without adding a newline:
</p>
<ul>
<li class="level"><div class="li">
 <code>System.out.print(text)</code> – output <code>text</code> to <em>stdout</em>
</div></li>
<li class="level"><div class="li">
 <code>System.err.print(text)</code> – output <code>text</code> to <em>stderr</em>
</div></li>
</ul>


</div>

<h3 id="gui_and_exit">GUI and exit</h3>
<div class="level3">
<ul>
<li class="level"><div class="li">
 <code>startGUI()</code> – start <abbr title="Graphical User Interface">GUI</abbr>
</div></li>
<li class="level"><div class="li">
 <code>stopGUI()</code> – stop <abbr title="Graphical User Interface">GUI</abbr> and switch to console mode
</div></li>
<li class="level"><div class="li">
 <code>quit()</code> or <code>exit()</code> – exit Workcraft
</div></li>
</ul>


</div>

<h3 id="global_variables">Global variables</h3>
<div class="level3">
<ul>
<li class="level"><div class="li">
 <code>args</code> – command line parameters passed to Workcraft; these can be iterated over as follows: <code>for each (arg in args) {…}</code>
</div></li>
<li class="level"><div class="li">
 <code>framework</code> – the Workcraft framework singleton
</div></li>
<li class="level"><div class="li">
 <code>workspaceEntry</code> – the current work 
</div></li>
<li class="level"><div class="li">
 <code>modelEntry</code> – the current model entry, a shortcut to <code>workspaceEntry.getModelEntry()</code>
</div></li>
<li class="level"><div class="li">
 <code>visualModel</code> – the current visual model, a shortcut to <code>modelEntry.getVisualModel()</code>
</div></li>
<li class="level"><div class="li">
 <code>mathModel</code> – the current math model, a shortcut to <code>modelEntry.getMathModel()</code>
</div></li>
</ul>


</div>

<h3 id="workspace_functions">Workspace functions</h3>
<div class="level3">
<ul>
<li class="level"><div class="li">
 <code>getWorks()</code> – return an iterable array of loaded works
</div></li>
<li class="level"><div class="li">
 <code>getWorkFile(work)</code> – return a file object for the specified <code>work</code>
</div></li>
<li class="level"><div class="li">
 <code>getModelDescriptor(work)</code> – return a model descriptor string for the specified <code>work</code>
</div></li>
<li class="level"><div class="li">
 <code>getModelTitle(work)</code> – return a model title string for the specified <code>work</code>
</div></li>
<li class="level"><div class="li">
 <code>setModelTitle(work, title)</code> – set the model title of the specified <code>work</code> to the <code>title</code> string
</div></li>
</ul>


</div>

<h3 id="file_operations">File operations</h3>
<div class="level3">
<ul>
<li class="level"><div class="li">
 <code>load(fileName)</code>  – load a model from the given work file <code>fileName</code> and return its work
</div></li>
<li class="level"><div class="li">
 <code>import(fileName)</code> – import a model from the given file <code>fileName</code> and return its work; the model type is determined by the <code>fileName</code> extension:
</div><ul>
<li class="level"><div class="li">
 <code>.g</code> – <em>ASTG</em> file for a <em><abbr title="Signal Transition Graph">STG</abbr></em> model
</div></li>
<li class="level"><div class="li">
 <code>.sg</code> – <em>ASTG</em> file for a <em><abbr title="Finite State Transducer">FST</abbr></em> model
</div></li>
<li class="level"><div class="li">
 <code>.v</code> – <em>Verilog netlist</em> file for a <em>circuit</em> model
</div></li>
</ul>
</li>
<li class="level"><div class="li">
 <code>save(work, fileName)</code> – save the specified <code>work</code> into a file with the given <code>fileName</code>
</div></li>
<li class="level"><div class="li">
 <code>exportSvg(work, fileName)</code> – export the specified <code>work</code> as a <em>Scalable Vector Graphics (*.svg)</em> with the given <code>fileName</code>
</div></li>
<li class="level"><div class="li">
 <code>exportPng(work, fileName)</code> – export the specified <code>work</code> as a <em>Portable Network Graphics (*.png)</em> with the given <code>fileName</code>
</div></li>
<li class="level"><div class="li">
 <code>exportPdf(work, fileName)</code> – export the specified <code>work</code> as a <em>Portable Document Format (*.pdf)</em> with the given <code>fileName</code>
</div></li>
<li class="level"><div class="li">
 <code>exportPs(work, fileName)</code> – export the specified <code>work</code> as a <em>PostScript (*.ps)</em> with the given <code>fileName</code>
</div></li>
<li class="level"><div class="li">
 <code>exportEps(work, fileName)</code> – export the specified <code>work</code> as an <em>Encapsulated PostScript (*.eps)</em> with the given <code>fileName</code>
</div></li>
<li class="level"><div class="li">
 <code>exportDot(work, fileName)</code> – export the specified <code>work</code> as a <em>GraphViz (*.dot)</em> with the given <code>fileName</code>
</div></li>
<li class="level"><div class="li">
 <code>exportStgG(work, fileName)</code> – export the specified <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> as a <em>Signal Transition Graph (*.g)</em> with the given <code>fileName</code>
</div></li>
<li class="level"><div class="li">
 <code>exportStgLpn(work, fileName)</code> – export the specified <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> as a <em>Labelled Petri Net (*.lpn)</em> with the given <code>fileName</code>
</div></li>
<li class="level"><div class="li">
 <code>exportFstSg(work, fileName)</code> – export the specified <abbr title="Finite State Transducer">FST</abbr> <code>work</code> as a <em>State Graph (*.sg)</em> with the given <code>fileName</code>
</div></li>
<li class="level"><div class="li">
 <code>exportCircuitVerilog(work, fileName)</code> – export the specified Circuit <code>work</code> as a <em>Verilog netlist (*.v)</em> with the given <code>fileName</code>
</div></li>
<li class="level"><div class="li">
 <code>exportDfsVerilog(work, fileName)</code> – export the specified <abbr title="Dataflow Structure">DFS</abbr> <code>work</code> as a <em>Verilog netlist (*.v)</em> <code>fileName</code>
</div></li>
</ul>


</div>

<h3 id="configuration">Configuration</h3>
<div class="level3">
<ul>
<li class="level"><div class="li">
 <code>setConfigVar(key, val)</code> – set the config variable <code>key</code> to value <code>val</code>
</div></li>
<li class="level"><div class="li">
 <code>getConfigVar(key)</code>  – return the value of config variable <code>key</code>
</div></li>
<li class="level"><div class="li">
 <code>saveConfig()</code>  – save settings into the default config file
</div></li>
<li class="level"><div class="li">
 <code>loadConfig()</code>  – load settings from the default config file
</div></li>
</ul>


</div>

<h3 id="command_execution">Command execution</h3>
<div class="level3">
<ul>
<li class="level"><div class="li">
 <code>execFile(fileName)</code> – execute JavaScript with the given <code>fileName</code>
</div></li>
<li class="level"><div class="li">
 <code>runCommand(work, className)</code> – apply the command <code>className</code> to the specified <code>work</code> as a background task
</div></li>
<li class="level"><div class="li">
 <code>executeCommand(work, className)</code> – apply the command <code>className</code> to the specified <code>work</code> and wait for the result
</div></li>
</ul>


</div>

<h4 id="conversion_commands_--_applied_to_the_given_work_and_produce_a_new_work">Conversion commands -- applied to the given work and produce a new work</h4>
<div class="level4">
<ul>
<li class="level"><div class="li">
 Conversion between different model types (sorted alphabetically)
</div><ul>
<li class="level"><div class="li">
 <code>convertCircuitToStg(work)</code> – convert the given Circuit <code>work</code> into a new <abbr title="Signal Transition Graph">STG</abbr> work
</div></li>
<li class="level"><div class="li">
 <code>convertCircuitToStgWithEnvironment(work)</code> – convert the given Circuit <code>work</code> and its environment into a new <abbr title="Signal Transition Graph">STG</abbr> work
</div></li>
<li class="level"><div class="li">
 <code>convertDfsToStg(work)</code> – convert the given <abbr title="Dataflow Structure">DFS</abbr> <code>work</code> into a new <abbr title="Signal Transition Graph">STG</abbr> work
</div></li>
<li class="level"><div class="li">
 <code>convertFsmToFst(work)</code> – convert the given <abbr title="Finite State Machine">FSM</abbr> <code>work</code> into a new <abbr title="Finite State Transducer">FST</abbr> work
</div></li>
<li class="level"><div class="li">
 <code>convertFsmToGraph(work)</code> – convert the given <abbr title="Finite State Machine">FSM</abbr> <code>work</code> into a new Graph work
</div></li>
<li class="level"><div class="li">
 <code>convertFsmToPetri(work)</code> – convert the given <abbr title="Finite State Machine">FSM</abbr> <code>work</code> into a new Petri net work
</div></li>
<li class="level"><div class="li">
 <code>convertFstToFsm(work)</code> – convert the given <abbr title="Finite State Transducer">FST</abbr> <code>work</code> into a new <abbr title="Finite State Machine">FSM</abbr> work
</div></li>
<li class="level"><div class="li">
 <code>convertFstToStg(work)</code> – convert the given <abbr title="Finite State Transducer">FST</abbr> <code>work</code> into a new <abbr title="Signal Transition Graph">STG</abbr> work
</div></li>
<li class="level"><div class="li">
 <code>convertGraphToFsm(work)</code> – convert the given Graph <code>work</code> into a new <abbr title="Finite State Machine">FSM</abbr> work
</div></li>
<li class="level"><div class="li">
 <code>convertGraphToPetri(work)</code> – convert the given Graph <code>work</code> into a new Petri net work
</div></li>
<li class="level"><div class="li">
 <code>convertPetriToFsm(work)</code> – convert the given Petri net <code>work</code> into a new <abbr title="Finite State Machine">FSM</abbr> work
</div></li>
<li class="level"><div class="li">
 <code>convertPetriToPolicy(work)</code> – convert the given Petri net <code>work</code> into a new Policy net work
</div></li>
<li class="level"><div class="li">
 <code>convertPetriToStg(work)</code> – convert the given Petri net <code>work</code> into a new <abbr title="Signal Transition Graph">STG</abbr> work
</div></li>
<li class="level"><div class="li">
 <code>convertPolicyToPetri(work)</code> – convert the given Policy net <code>work</code> into a new Petri net work
</div></li>
<li class="level"><div class="li">
 <code>convertStgToBinaryFst(work)</code> – convert the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> into a new binary <abbr title="Finite State Transducer">FST</abbr> work
</div></li>
<li class="level"><div class="li">
 <code>convertStgToFst(work)</code> – convert the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> into a new <abbr title="Finite State Transducer">FST</abbr> work
</div></li>
<li class="level"><div class="li">
 <code>convertStgToPetri(work)</code> – convert the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> into a new Petri net work
</div></li>
<li class="level"><div class="li">
 <code>convertWtgToStg(work)</code> – convert the given <abbr title="Waveform Transition Graph">WTG</abbr> <code>work</code> into a new <abbr title="Signal Transition Graph">STG</abbr> work
</div></li>
</ul>
</li>
</ul>

<ul>
<li class="level"><div class="li">
 Conversion of <abbr title="Signal Transition Graph">STG</abbr> and Petri net models using net sysnthesis of Petrify
</div><ul>
<li class="level"><div class="li">
 <code>convertPetriSynthesis(work)</code> – convert the given Petri net, <abbr title="Signal Transition Graph">STG</abbr>, <abbr title="Finite State Machine">FSM</abbr> or <abbr title="Finite State Transducer">FST</abbr> <code>work</code> into a new work using net synthesis
</div></li>
<li class="level"><div class="li">
 <code>convertPetriSynthesisEr(work)</code> – convert the given Petri net/<abbr title="Finite State Machine">FSM</abbr> or <abbr title="Signal Transition Graph">STG</abbr>/<abbr title="Finite State Transducer">FST</abbr> <code>work</code> into a new Petri net or <abbr title="Signal Transition Graph">STG</abbr> work using net synthesis with a different label for each excitation region
</div></li>
<li class="level"><div class="li">
 <code>convertPetriHideTransition(work)</code> – convert the given Petri net or <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> into a new work hiding selected signals and dummies
</div></li>
<li class="level"><div class="li">
 <code>convertPetriHideErTransition(work)</code> – convert the given Petri net or <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> into a new Petri net or <abbr title="Signal Transition Graph">STG</abbr> work hiding selected signals and dummies with a different label for each excitation region
</div></li>
<li class="level"><div class="li">
 <code>convertStgUntoggle(work)</code> – convert the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> into a new work where the selected (or all) transitions are untoggled
</div></li>
<li class="level"><div class="li">
 <code>convertStgHideDummy(work)</code> – convert the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> into a new work without dummies
</div></li>
</ul>
</li>
</ul>


</div>

<h4 id="statistics_commands_--_produce_a_statistics_string_for_the_given_work">Statistics commands -- produce a statistics string for the given work</h4>
<div class="level4">
<ul>
<li class="level"><div class="li">
 <code>statModel(work)</code> – node and arc count for the model <code>work</code> (all model types are supported)
</div></li>
<li class="level"><div class="li">
 <code>statPetri(work)</code> – advanced complexity estimates for the Petri net <code>work</code>
</div></li>
<li class="level"><div class="li">
 <code>statStg(work)</code> – advanced complexity estimates for the <abbr title="Signal Transition Graph">STG</abbr> <code>work</code>
</div></li>
<li class="level"><div class="li">
 <code>statCircuit(work)</code> – advanced complexity estimates for the Circuit <code>work</code>
</div></li>
</ul>


</div>

<h4 id="synthesis_commands_--_applied_to_the_given_work_and_return_a_new_work">Synthesis commands -- applied to the given work and return a new work</h4>
<div class="level4">
<ul>
<li class="level"><div class="li">
 Logic synthesis of Circuits from STGs using Petrify backend
</div><ul>
<li class="level"><div class="li">
 <code>synthComplexGatePetrify(work)</code> – logic synthesis of the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> into a complex gate Circuit work using Petrify backend
</div></li>
<li class="level"><div class="li">
 <code>synthGeneralisedCelementPetrify(work)</code> – synthesis of the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> into a generalised C-element Circuit using Petrify
</div></li>
<li class="level"><div class="li">
 <code>synthStandardCelementPetrify(work)</code> – synthesis of the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> into a standard C-element Circuit work using Petrify
</div></li>
<li class="level"><div class="li">
 <code>synthTechnologyMappingPetrify(work)</code> – technology mapping of the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> into a Circuit work using Petrify
</div></li>
</ul>
</li>
</ul>

<ul>
<li class="level"><div class="li">
 Logic synthesis of Circuits from STGs using MPSat backend
</div><ul>
<li class="level"><div class="li">
 <code>synthComplexGateMpsat(work)</code> – logic synthesis of the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> into a complex gate Circuit work using MPSat backend
</div></li>
<li class="level"><div class="li">
 <code>synthGeneralisedCelementMpsat(work)</code> – synthesis of the <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> into a generalised C-element Circuit work using MPSat
</div></li>
<li class="level"><div class="li">
 <code>synthStandardCelementMpsat(work)</code> – synthesis of the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> into a standard C-element Circuit work using MPSat
</div></li>
<li class="level"><div class="li">
 <code>synthTechnologyMappingMpsat(work)</code> – technology mapping of the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> into a Circuit work using MPSat
</div></li>
</ul>
</li>
</ul>


</div>

<h4 id="layout_commands_--_modify_the_given_work">Layout commands -- modify the given work</h4>
<div class="level4">
<ul>
<li class="level"><div class="li">
 <code>layoutModelDot(work)</code> – position nodes and shape the arcs using of the model <code>work</code> using <em>Graphviz</em> backend
</div></li>
<li class="level"><div class="li">
 <code>layoutModelRandom(work)</code> – randomly position graph nodes of the model <code>work</code> and connect them by straight arcs
</div></li>
<li class="level"><div class="li">
 <code>layoutCircuit(work)</code> – place components and route wires of the Circuit <code>work</code>
</div></li>
<li class="level"><div class="li">
 <code>layoutCircuitPlacement(work)</code> – place components of the Circuit <code>work</code>
</div></li>
<li class="level"><div class="li">
 <code>layoutCircuitRouting(work)</code> – route wires of the Circuit <code>work</code>
</div></li>
</ul>


</div>

<h4 id="verification_commands_--_applied_to_the_given_work_and_return_a_boolean_outcome_of_the_check">Verification commands -- applied to the given work and return a Boolean outcome of the check</h4>
<div class="level4">
<ul>
<li class="level"><div class="li">
Commands specific for Graph models
</div><ul>
<li class="level"><div class="li">
 <code>checkGraphReachability(work)</code> – check the Graph <code>work</code> for reachability of all its nodes 
</div></li>
</ul>
</li>
</ul>

<ul>
<li class="level"><div class="li">
 Commands specific for <abbr title="Finite State Machine">FSM</abbr> models (and derived models, e.g. <abbr title="Finite State Transducer">FST</abbr>)
</div><ul>
<li class="level"><div class="li">
 <code>checkFsmDeadlockFreeness(work)</code> – check the <abbr title="Finite State Machine">FSM</abbr> or <abbr title="Finite State Transducer">FST</abbr> <code>work</code> for deadlock freeness
</div></li>
<li class="level"><div class="li">
 <code>checkFsmDeterminism(work)</code> – check the <abbr title="Finite State Machine">FSM</abbr> or <abbr title="Finite State Transducer">FST</abbr> <code>work</code> for determinism
</div></li>
<li class="level"><div class="li">
 <code>checkFsmReachability(work)</code> – check the <abbr title="Finite State Machine">FSM</abbr> or <abbr title="Finite State Transducer">FST</abbr> <code>work</code> for reachability of all states
</div></li>
<li class="level"><div class="li">
 <code>checkFsmReversibility(work)</code> – check the <abbr title="Finite State Machine">FSM</abbr> or <abbr title="Finite State Transducer">FST</abbr> <code>work</code> for reversibility of all states
</div></li>
</ul>
</li>
</ul>

<ul>
<li class="level"><div class="li">
Commands specific for Policy net models
</div><ul>
<li class="level"><div class="li">
 <code>checkPolicyDeadlockFreeness(work)</code> – check the Policy net <code>work</code> for deadlock freeness
</div></li>
</ul>
</li>
</ul>

<ul>
<li class="level"><div class="li">
Commands specific for <abbr title="Signal Transition Graph">STG</abbr> models
</div><ul>
<li class="level"><div class="li">
 <code>checkStgCombined(work)</code> – combined check of the <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> for consistency, deadlock freeness, input properness and output persistency
</div></li>
<li class="level"><div class="li">
 <code>checkStgConsistency(work)</code> – check the <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> for consistency
</div></li>
<li class="level"><div class="li">
 <code>checkStgDeadlockFreeness(work)</code> – check the <abbr title="Signal Transition Graph">STG</abbr> (or Petri net) <code>work</code> for deadlock freeness
</div></li>
<li class="level"><div class="li">
 <code>checkStgInputProperness(work)</code> – check the <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> for input properness
</div></li>
<li class="level"><div class="li">
 <code>checkStgOutputPersistency(work)</code> – check the <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> for output persistency
</div></li>
<li class="level"><div class="li">
 <code>checkStgCsc(work)</code> – check the <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> for CSC
</div></li>
<li class="level"><div class="li">
 <code>checkStgUsc(work)</code> – check the <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> for USC
</div></li>
<li class="level"><div class="li">
 <code>checkStgDiInterface(work)</code> – check the <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> for DI interface
</div></li>
<li class="level"><div class="li">
 <code>checkStgNormalcy(work)</code> – check the <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> for normalcy
</div></li>
<li class="level"><div class="li">
 <code>checkStgMutexImplementability(work)</code> – check the <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> for implementability of its mutex places
</div></li>
</ul>
</li>
</ul>

<ul>
<li class="level"><div class="li">
 Commands specific for Circuit models
</div><ul>
<li class="level"><div class="li">
 <code>checkCircuitCombined(work)</code> – combined check of the Circuit <code>work</code> for deadlock freeness, conformation to environment and output persistency
</div></li>
<li class="level"><div class="li">
 <code>checkCircuitConformation(work)</code> – check the Circuit <code>work</code> for conformation to environment
</div></li>
<li class="level"><div class="li">
 <code>checkCircuitDeadlockFreeness(work)</code> – check the Circuit <code>work</code> for deadlock freeness
</div></li>
<li class="level"><div class="li">
 <code>checkCircuitOutputPersistency(work)</code> – check the Circuit <code>work</code> for output persistency
</div></li>
<li class="level"><div class="li">
 <code>checkCircuitStrictImplementation(work)</code> – check the Circuit <code>work</code> for strict implementation of its signals according to the environment
</div></li>
</ul>
</li>
</ul>

<ul>
<li class="level"><div class="li">
 Commands specific for <abbr title="Dataflow Structure">DFS</abbr> models
</div><ul>
<li class="level"><div class="li">
 <code>checkDfsCombined(work)</code> – combined check of the <abbr title="Dataflow Structure">DFS</abbr> <code>work</code> for deadlock freeness and output persistency
</div></li>
<li class="level"><div class="li">
 <code>checkDfsDeadlockFreeness(work)</code> – check the <abbr title="Dataflow Structure">DFS</abbr> <code>work</code> for deadlock freeness
</div></li>
<li class="level"><div class="li">
 <code>checkDfsOutputPersistency(work)</code> – check the <abbr title="Dataflow Structure">DFS</abbr> <code>work</code> for output persistency
</div></li>
</ul>
</li>
</ul>


</div>

<h4 id="transformation_commands_modify_the_given_work">Transformation commands (modify the given work)</h4>
<div class="level4">
<ul>
<li class="level"><div class="li">
 Generic commands applicable to all models
</div><ul>
<li class="level"><div class="li">
 <code>transformModelCopyLabel(work)</code> – transform the given Model <code>work</code> by copying unique names of the selected (or all) nodes into their labels
</div></li>
<li class="level"><div class="li">
 <code>transformModelStraightenConnection(work)</code> – transform the given Model <code>work</code> by straightening selected (or all) arcs
</div></li>
</ul>
</li>
</ul>

<ul>
<li class="level"><div class="li">
 Commands specific for <abbr title="Finite State Machine">FSM</abbr> and derived models
</div><ul>
<li class="level"><div class="li">
 <code>transformFsmMergeState(work)</code> – transform the given <abbr title="Finite State Machine">FSM</abbr> or <abbr title="Finite State Transducer">FST</abbr> <code>work</code> by merging selected states
</div></li>
<li class="level"><div class="li">
 <code>transformFsmContractState(work)</code> – transform the given <abbr title="Finite State Machine">FSM</abbr> or <abbr title="Finite State Transducer">FST</abbr> <code>work</code> by contracting selected states
</div></li>
</ul>
</li>
</ul>

<ul>
<li class="level"><div class="li">
 Commands specific for Petri net and (if explicitly stated) for derived models
</div><ul>
<li class="level"><div class="li">
 <code>transformPetriContractTransition(work)</code> – transform the given Petri net <code>work</code> by contracting a selected transition
</div></li>
<li class="level"><div class="li">
 <code>transformPetriMergeTransition(work)</code> – transform the given Petri net <code>work</code> by merging selected transitions
</div></li>
<li class="level"><div class="li">
 <code>transformPetriDirectedArcToReadArc(work)</code> – transform the given Petri net (or derived model, e.g.<abbr title="Signal Transition Graph">STG</abbr>) <code>work</code> by converting selected arcs to read-arcs
</div></li>
<li class="level"><div class="li">
 <code>transformPetriDualArcToReadArc(work)</code> – transform the given Petri net (or derived model, e.g.<abbr title="Signal Transition Graph">STG</abbr>) <code>work</code> by converting selected (or all) dual producing/consuming arcs to read-arcs
</div></li>
<li class="level"><div class="li">
 <code>transformPetriReadArcToDualArc(work)</code> – transform the given Petri net (or derived model, e.g.<abbr title="Signal Transition Graph">STG</abbr>) <code>work</code> by converting selected (or all) read-arcs to dual producing/consuming arcs
</div></li>
<li class="level"><div class="li">
 <code>transformPetriCollapseProxy(work)</code> – transform the given Petri net (or derived model, e.g.<abbr title="Signal Transition Graph">STG</abbr>) <code>work</code> by collapsing selected (or all) proxy places
</div></li>
<li class="level"><div class="li">
 <code>transformPetriProxyDirectedArcPlace(work)</code> – transform the given Petri net (or derived model, e.g.<abbr title="Signal Transition Graph">STG</abbr>) <code>work</code> by creating proxies for selected producing/consuming arc places
</div></li>
<li class="level"><div class="li">
 <code>transformPetriProxyReadArcPlace(work)</code> – transform the given Petri net (or derived model, e.g.<abbr title="Signal Transition Graph">STG</abbr>) <code>work</code> by creating selected (or all) proxies for read-arc places
</div></li>
<li class="level"><div class="li">
 <code>transformPetriMergePlace(work)</code> – transform the given Petri net (or derived model, e.g.<abbr title="Signal Transition Graph">STG</abbr>) <code>work</code> by merging selected places
</div></li>
</ul>
</li>
</ul>

<ul>
<li class="level"><div class="li">
 Commands specific for Policy net models
</div><ul>
<li class="level"><div class="li">
 <code>transformPolicyBundleTransition(work)</code> – transform the given Policy net <code>work</code> by bundling selected transitions
</div></li>
</ul>
</li>
</ul>

<ul>
<li class="level"><div class="li">
 Commands specific for <abbr title="Signal Transition Graph">STG</abbr> models
</div><ul>
<li class="level"><div class="li">
 <code>transformStgMirrorSignal(work)</code> – transform the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> by mirroring selected (or all) signals
</div></li>
<li class="level"><div class="li">
 <code>transformStgMirrorTransition(work)</code> – transform the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> by mirroring selected (or all) transition sign
</div></li>
<li class="level"><div class="li">
 <code>transformStgImplicitPlace(work)</code> – transform the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> by making selected (or all) places implicit
</div></li>
<li class="level"><div class="li">
 <code>transformStgExplicitPlace(work)</code> – transform the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> by making selected (or all) places explicit
</div></li>
<li class="level"><div class="li">
 <code>transformStgSignalToDummyTransition(work)</code> – transform the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> by converting selected signal transitions to dummies
</div></li>
<li class="level"><div class="li">
 <code>transformStgDummyToSignalTransition(work)</code> – transform the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> by converting selected dummies to signal transitions
</div></li>
<li class="level"><div class="li">
 <code>transformStgContractNamedTransition(work)</code> – transform the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> by contracting a selected transition
</div></li>
<li class="level"><div class="li">
 <code>transformStgMergeTransition(work)</code> – transform the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> by merging selected transitions
</div></li>
<li class="level"><div class="li">
 <code>transformStgInsertDummy(work)</code> – transform the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> by inserting dummies into selected arcs
</div></li>
<li class="level"><div class="li">
 <code>transformStgExpandHandshake(work)</code> – transform the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> by expanding selected handshake transitions
</div></li>
<li class="level"><div class="li">
 <code>transformStgExpandHandshakeReqAck(work)</code> – transform the given <abbr title="Signal Transition Graph">STG</abbr> <code>work</code> by expanding selected handshake transitions by adding _req and _ack suffixes
</div></li>
</ul>
</li>
</ul>

<ul>
<li class="level"><div class="li">
 Commands specific for Circuit models
</div><ul>
<li class="level"><div class="li">
 <code>transformCircuitContractJoint(work)</code> – transform the given Circuit <code>work</code> by contracting selected (or all) joints
</div></li>
<li class="level"><div class="li">
 <code>transformCircuitSplitJoint(work)</code> – transform the given Circuit <code>work</code> by splitting selected (or all) joints
</div></li>
<li class="level"><div class="li">
 <code>transformCircuitDetachJoint(work)</code> – transform the given Circuit <code>work</code> by detaching selected (or all joints)
</div></li>
<li class="level"><div class="li">
 <code>transformCircuitContractComponent(work)</code> – transform the given Circuit <code>work</code> by contracting selected single-input/single-output components
</div></li>
<li class="level"><div class="li">
 <code>transformCircuitInsertBuffer(work)</code> – transform the given Circuit <code>work</code> by inserting buffers into selected wires
</div></li>
<li class="level"><div class="li">
 <code>transformCircuitToggleBubble(work)</code> – transform the given Circuit <code>work</code> by toggling inversion of selected contacts and outputs of selected components
</div></li>
</ul>
</li>
</ul>

<ul>
<li class="level"><div class="li">
 Commands specific for <abbr title="Dataflow Structure">DFS</abbr> models
</div><ul>
<li class="level"><div class="li">
 <code>transformDfsMergeComponent(work)</code> – transform the given <abbr title="Dataflow Structure">DFS</abbr> <code>work</code> by merging selected components
</div></li>
<li class="level"><div class="li">
 <code>transformDfsContractComponent(work)</code> – transform the given <abbr title="Dataflow Structure">DFS</abbr> <code>work</code> by contracting selected components
</div></li>
<li class="level"><div class="li">
 <code>transformDfsWagging2Way(work)</code> – transform the given <abbr title="Dataflow Structure">DFS</abbr> <code>work</code> by by applying 2-way wagging to the selected pipeline section
</div></li>
<li class="level"><div class="li">
 <code>transformDfsWagging3Way(work)</code> – transform the given <abbr title="Dataflow Structure">DFS</abbr> <code>work</code> by by applying 3-way wagging to the selected pipeline section
</div></li>
<li class="level"><div class="li">
 <code>transformDfsWagging4Way(work)</code> – transform the given <abbr title="Dataflow Structure">DFS</abbr> <code>work</code> by by applying 4-way wagging to the selected pipeline section
</div></li>
</ul>
</li>
</ul>


</div>

<h2 id="script_examples">Script examples</h2>
<div class="level2">

</div>

<h3 id="basic">Basic</h3>
<div class="level3">
<dl class="file">
<dt><a href="_export/code/help/scripting/codeblock.5.code" title="Download Snippet" class="mediafile mf_js">stg-transform.js</a></dt>
<dd><pre class="code file javascript"><span class="co1">// Mirror signals and untoggle transitions of STG model</span>
inStgWork <span class="sy0">=</span> load<span class="br0">&#40;</span><span class="st0">&quot;in.stg.work&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
transformStgMirrorSignal<span class="br0">&#40;</span>inStg<span class="br0">&#41;</span><span class="sy0">;</span>
outStgWork <span class="sy0">=</span> convertStgUntoggle<span class="br0">&#40;</span>inStg<span class="br0">&#41;</span><span class="sy0">;</span>
save<span class="br0">&#40;</span>outStgWork<span class="sy0">,</span> <span class="st0">&quot;out.stg.work&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
exit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</dd></dl>
<dl class="file">
<dt><a href="_export/code/help/scripting/codeblock.6.code" title="Download Snippet" class="mediafile mf_js">buck-synth.js</a></dt>
<dd><pre class="code file javascript"><span class="co1">// Complex gate implementation for basic buck controller</span>
stgWork <span class="sy0">=</span> load<span class="br0">&#40;</span><span class="st0">&quot;buck.stg.work&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
circuitWork <span class="sy0">=</span> synthComplexGatePetrify<span class="br0">&#40;</span>stgWork<span class="br0">&#41;</span><span class="sy0">;</span>
save<span class="br0">&#40;</span>circuitWork<span class="sy0">,</span> <span class="st0">&quot;buck.circuit.work&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
exportVerilog<span class="br0">&#40;</span>circuitWork<span class="sy0">,</span> <span class="st0">&quot;buck.v&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
exit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</dd></dl>
<dl class="file">
<dt><a href="_export/code/help/scripting/codeblock.7.code" title="Download Snippet" class="mediafile mf_js">workspace-info.js</a></dt>
<dd><pre class="code file javascript"><span class="kw1">for</span> each <span class="br0">&#40;</span>work <span class="kw1">in</span> getWorks<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    s <span class="sy0">=</span> work.<span class="me1">getTitle</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    print<span class="br0">&#40;</span><span class="st0">&quot;Info for &quot;</span> <span class="sy0">+</span> s<span class="br0">&#41;</span><span class="sy0">;</span>
    print<span class="br0">&#40;</span><span class="st0">&quot;  * Descriptor: &quot;</span> <span class="sy0">+</span> getModelDescriptor<span class="br0">&#40;</span>work<span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    print<span class="br0">&#40;</span><span class="st0">&quot;  * File: &quot;</span> <span class="sy0">+</span> getWorkFile<span class="br0">&#40;</span>work<span class="br0">&#41;</span>.<span class="me1">getName</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    setModelTitle<span class="br0">&#40;</span>work<span class="sy0">,</span> s.<span class="me1">toUpperCase</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    print<span class="br0">&#40;</span><span class="st0">&quot;  * Title: &quot;</span> <span class="sy0">+</span> getModelTitle<span class="br0">&#40;</span>work<span class="br0">&#41;</span><span class="sy0">;</span>
<span class="br0">&#125;</span></pre>
</dd></dl>

</div>

<h3 id="advanced">Advanced</h3>
<div class="level3">
<dl class="file">
<dt><a href="_export/code/help/scripting/codeblock.8.code" title="Download Snippet" class="mediafile mf_js">synth.js</a></dt>
<dd><pre class="code file javascript"><span class="co1">// Technology mapping of the specified .g files whose names are passed without extension, as follows:</span>
<span class="co1">// workcraft -dir:WORKING_DIRECTORY_PATH -exec:synth.js TEST1 TEST2</span>
setConfigVar<span class="br0">&#40;</span><span class="st0">&quot;CircuitSettings.gateLibrary&quot;</span><span class="sy0">,</span> <span class="st0">&quot;path-to-genlib-file&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
<span class="kw1">for</span> each <span class="br0">&#40;</span>name <span class="kw1">in</span> args<span class="br0">&#41;</span> <span class="br0">&#123;</span>
    stgWork <span class="sy0">=</span> <span class="kw5">import</span><span class="br0">&#40;</span>name <span class="sy0">+</span> <span class="st0">&quot;.g&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw1">if</span> <span class="br0">&#40;</span>stgWork <span class="sy0">==</span> <span class="kw2">null</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        eprint<span class="br0">&#40;</span><span class="st0">&quot;STG work loading failed!&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        exit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="kw1">if</span> <span class="br0">&#40;</span>checkStgCsc<span class="br0">&#40;</span>stgWork<span class="br0">&#41;</span> <span class="sy0">==</span> <span class="kw2">true</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        cscStgWork <span class="sy0">=</span> stgWork<span class="sy0">;</span>
    <span class="br0">&#125;</span> <span class="kw1">else</span> <span class="br0">&#123;</span>
        cscStgWork <span class="sy0">=</span> resolveCscConflictPetrify<span class="br0">&#40;</span>stgWork<span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="kw1">if</span> <span class="br0">&#40;</span>cscStgWork <span class="sy0">==</span> <span class="kw2">null</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
            eprint<span class="br0">&#40;</span><span class="st0">&quot;CSC conflict resolution failed!&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
            exit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        <span class="br0">&#125;</span>
        save<span class="br0">&#40;</span>cscStgWork<span class="sy0">,</span> <span class="st0">'vme-csc.stg.work'</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    tmCircuitWork <span class="sy0">=</span> synthTechnologyMappingMpsat<span class="br0">&#40;</span>cscStgWork<span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="kw1">if</span> <span class="br0">&#40;</span>tmCircuitWork <span class="sy0">==</span> <span class="kw2">null</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        eprint<span class="br0">&#40;</span><span class="st0">&quot;Circuit synthesis failed!&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
        exit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
    <span class="kw1">if</span> <span class="br0">&#40;</span>checkCircuitCombined<span class="br0">&#40;</span>tmCircuitWork <span class="sy0">==</span> <span class="kw2">true</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
        exportVerilog<span class="br0">&#40;</span>tmCircuitWork<span class="sy0">,</span> name <span class="sy0">+</span> <span class="st0">&quot;.v&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span> <span class="kw1">else</span> <span class="br0">&#123;</span>
        eprint<span class="br0">&#40;</span><span class="st0">&quot;Circuit verification failed!&quot;</span><span class="br0">&#41;</span><span class="sy0">;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span>
exit<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy0">;</span></pre>
</dd></dl>

</div>

                    <!-- wikipage stop -->
                                    </div>
<!--
                                    <div class="docInfo"><bdi>help/scripting.txt</bdi> · Last modified: 2018/01/01 20:55 by <bdi>danil</bdi></div>
                -->

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
<!--
            <div id="dokuwiki__pagetools">
                            <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="scripting.html"  class="action edit" accesskey="e" rel="nofollow" title="Edit this page [E]"><span>Edit this page</span></a></li><li><a href="scripting.html"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="scripting.html"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li class="plugin_move_page"><a href="scripting.html"><span>Rename Page</span></a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li><li><a href="scripting.html"  class="action siteexport_addpage" title="Export Page (Siteexport)"><span>Export Page</span></a></li><li><a href="javascript:void(0);" class="fold_unfold_all" onclick="fold_unfold_all();" rel="nofollow" title="Fold/unfold all"><span>Fold/unfold all</span></a></li><li><a href="scripting.html"  class="action siteexport_mapid" title="Show Map-ID"" data-mapid="scripting" onclick="copyMapIDToClipBoard.call(this); return false;"><span>Copy Map-ID: <span class="mapID" data-done="Done.">scripting</span></span></a></li>                    </ul>
                </div>
                        </div>
-->
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
<!--
    
    <div class="buttons">
                <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="lib/tpl/dokuwiki-light-export/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://php.net" title="Powered by PHP" ><img
            src="lib/tpl/dokuwiki-light-export/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="lib/tpl/dokuwiki-light-export/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="lib/tpl/dokuwiki-light-export/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="lib/tpl/dokuwiki-light-export/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
    <div class="userInfo">
        Logged in as:: danil    </div>
-->
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img  width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div></body>
</html>
