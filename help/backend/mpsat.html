<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>help:backend:mpsat - Workcraft</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="help,backend,mpsat"/>
<link rel="search" type="application/opensearchdescription+xml" href="../lib/exe/opensearch.html" title="Workcraft"/>
<link rel="start" href="mpsat.html"/>
<link rel="contents" href="mpsat.html" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Changes" />
<link rel="alternate" type="application/rss+xml" title="Current namespace" />
<link rel="edit" title="Edit this page" href="mpsat.html"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../_export/xhtml/help/backend/mpsat.xhtml"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../_export/raw/help/backend/mpsat.raw"/>
<link rel="canonical" href="https://workcraft.org/help/backend/mpsat"/>
<link rel="stylesheet" type="text/css" href="../lib/exe/css.php.t.dokuwiki-light-export.css"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='help:backend';var SIG=' --- //[[support@workcraft.org| ]] 2019/07/30 12:25//';var JSINFO = {"id":"help:backend:mpsat","namespace":"help:backend","fastwiki":{"secedit":1,"preview":1,"fastpages":1,"save":0,"fastshow":0,"fastshow_same_ns":1,"fastshow_include":"","fastshow_exclude":"","preload":false,"preload_head":"====47hsjwycv782nwncv8b920m8bv72jmdm3929bno3b3====","preload_batchsize":false,"preload_per_page":false,"locktime":840,"usedraft":1,"text_btn_show":"Show page","templatename":"dokuwiki-light-export"},"act":"show","ajax":"ajax","move_renameokay":true,"plugin_folded":{"hide":"hide","reveal":"reveal"}};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../lib/exe/jquery.php.t.dokuwiki-light-export.js"></script>
<script type="text/javascript" charset="utf-8" src="../lib/exe/js.php.t.dokuwiki-light-export.js"></script>
<!--<![endif]-->
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../favicon.ico" />
<link rel="apple-touch-icon" href="../apple-touch-icon.png" />
    </head>

<body>
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_dokuwiki-light-export loggedIn    ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

        <h1><a href="../start.html"  title="Workcraft start page"><img src="../logo.png" width="327" height="57" alt="" /></a></h1>
    
    <div class="tools group">
        <!-- USER TOOLS -->
<!--
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="mpsat.html"  class="action admin" rel="nofollow" title="Admin">Admin</a></li><li><a href="mpsat.html"  class="action profile" rel="nofollow" title="Profile">Profile</a></li><li><a href="mpsat.html"  class="action logout" rel="nofollow" title="Log Out">Log Out</a></li>                </ul>
            </div>
        -->

        <!-- SEARCH TOOLS -->
<!--
        <div id="dokuwiki__searchtools">
            <h3 class="a11y"></h3>
            <form action="../start.html" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" placeholder="Search" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><button type="submit" title="Search">Search</button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>        </div>
-->

        <!-- SITE TOOLS -->
<!--
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
                            <div class="mobileTools">
                    <form action="..//doku.html.doku.php.html" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="help:backend:mpsat" /><input type="hidden" name="sectok" value="4e31bd1ec239c00cfdeefee771c45e22" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Edit this page</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Changes</option><option value="media">Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="logout">Log Out</option><option value="profile">Profile</option><option value="admin">Admin</option></optgroup></select><button type="submit">&gt;</button></div></form>                </div>
                <ul>
                    <li><a href="mpsat.html"  class="action recent" accesskey="r" rel="nofollow" title="Changes [R]">Changes</a></li><li><a href="mpsat.html"  class="action media" rel="nofollow" title="Manager">Manager</a></li><li><a href="mpsat.html"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>                </ul>
                    </div>
-->
    </div>

    <!-- BREADCRUMBS -->
<!--
    -->



    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">
                
                <div class="pageId"><span>help:backend:mpsat</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <div class="plugin_fastwiki_marker" style="display:none"></div>
<h1 id="mpsat_command_line_options">MPSat command line options</h1>
<div class="level1">
<pre class="code">Usage:
  mpsat mode [options] inputfilename [outputfilename]

Modes:
  Reachability-like properties checking modes:
    -D    Deadlock checking.
    -F    Find a reachable marking satisfying a given REACH predicate.
    -Fs   Find a reachable STG state satisfying a given REACH predicate.
    -Fa   Check an SVA-like assertion (a global invariant).
  Encoding conflicts detection and resolution modes:
    -C    CSC conflict detection.
    -N    Normalcy property checking mode.
    -R    Resolve encoding conflicts.
    -U    USC conflict detection.
  Synthesis modes:
    -E    Derive complex-gate implementation.
    -G    Derive gC-elements implementation.
    -S    Derive standard-C implementation.
    -T    Logic decomposition and technology mapping (experimental).

Options:
  -! - Disable branching on auxiliary variables.
  -$N - Switch to SAT solver N (0-1).
  -@ - Output configurations rather than traces.
  -a[N] - Compute all solutions (might be slow).
  -b - Generate backward conflict constraints.
  -c[s|l|COEFF=EXPR] - Specifies the coefficients for the cost function.
  -d string - Specifies additional mode-dependent data.
  -f - Looking for a solution minimising the cost function (might be slow).
  -g[[!][N]] - Specifies gates/latches used for logic decomposition.
  -l[+|-] - Specifies whether to generate inclusion constraints.
  -mN - Using method N (1-9).
  -pN - Controls the use of parallel (concurrent) inserions.
  -r - Allows to use concurrency reduction for encoding conflict resolution.
  -s - Store the CNF formula for an external SAT solver.
  -t - Perform logic decomposition down to the gate/latch level.
  -vN - The verbosity level (0&lt;=N&lt;=9, the default is 0).
  -w[N] - Wait for user input before exiting (prevents the window from closing).
  -x - Saves the results in mpsat.xml.</pre>
<p><a class="folder" href="#folded_help:backend:mpsat_1">Detailed help </a></p><div class="folded hidden" id="folded_help:backend:mpsat_1"><pre class="code">Usage:
  mpsat mode [options] inputfilename [outputfilename]

Modes:
  Reachability-like properties checking modes:
    -D    Deadlock checking.
    -F    Find a reachable marking satisfying a given REACH predicate.
    -Fs   Find a reachable STG state satisfying a given REACH predicate.
    -Fa   Check an SVA-like assertion (a global invariant).
    The -Fs mode differs from -F in the following ways:
    * only configurations without maximal dummy events are explored;
    * REACH operators referring to STG signals become available;
    * the semantics of REACH operator &#039;@&#039; checking the enabledness status
      of an event/transition/signal changes: in addition to the usual Petri
      net enabledness, an entity can be enabled via a sequence of dummies.
    The -Fa mode differs from -Fs in the following ways:
    * the syntax is SVA-like, i.e. a Boolean formula that can refer only to
      values of STG signals;
    * a global invariant rather than a reachability predicate is checked,
      i.e. to check the same property using -Fs one has to invert it.
  Encoding conflicts detection and resolution modes:
    -C    CSC conflict detection.
    -N    Normalcy property checking mode.
    -R    Resolve encoding conflicts.
    -U    USC conflict detection.
  Synthesis modes:
    -E    Derive complex-gate implementation.
    -G    Derive gC-elements implementation.
    -S    Derive standard-C implementation.
    -T    Logic decomposition and technology mapping (experimental).
At most one the listed modes may be specified.

For the modes -C, -E, -Fs, -Fa, -G, -N, -R, -S, -T, -U the
file inputfilename must be an STG unfolding. If the
legacy *.mci format is used then transition names must
carry information about the corresponding signal; the
format is [prefix.]identifier[+|-][/number], where prefix is
either of O,I,i (for outputs, internal signals, and inputs,
respectively; dummies have no prefix),
e.g. O.x-/1, I.csc+/1, i.a-, dum/1, t1. This format is
produced by the PUNF tool. Alternatively, PUNF can produce new
PNML-based format *.pnml or *.pnml.gz, which stores this
in a more elegant way information, and also fixes other issues.
The original STG must be consistent. Moreover, it should
satisfy the CSC property for any of the synthesis modes (-E, -G, -S, -T).

The normalcy property should hold to avoid inverters on gates&#039; inputs.
Normalcy violation can be caused by the following factors:
  - An event have triggers with different signs. If this is
    the case, mpsat prints a trace leading to that event.
  - An instance of a signal transition has triggers with the
    same sign (which means that the signal cannot be n-normal),
    while another instance of this signal has triggers with
    the opposite sign (i.e. the signal cannot be p-normal).
    If this is the case, mpsat prints two traces
    leading to these instances.
  - There is a CSC conflict. If this is the case, mpsat prints
    results similar to the -C mode.
  - Nothing above. Then mpsat makes hypothesis about the
    normalcy type of each signal, based on the signs of the triggers.
    Then it tries to disprove the made hypothesis, and if it is
    possible, mpsat prints three traces: one to show the
    event for which a hypothesis was made, and the other two to
    show the violation of normalcy by definition.

Options:
  -! - Disable branching on auxiliary variables.
  Some of the variables in the formula might be functions of
  other variables, so it is possible not to branch on them
  without affecting the correctness. This, however, has mixed
  effect on performance. You can try this option if you feel lucky.
  This option is available in all modes.

  -$N - Switch to SAT solver N (0-1).
  Currently two solvers, zChaff (N=0) and MiniSat (N=1) are
  supported. The default is chosen heuristically, depending on the mode.
  This option is available in all modes.

  -@ - Output configurations rather than traces.
  The numbering of events starts from 1.
  This option is available in the following modes:
  -C, -D, -F, -Fs, -Fa, -N, -U; it is silently ignored in any other mode.

  -a[N] - Compute all solutions (might be slow).
  The search does not stop after the first encountered solution,
  but continues until all solutions are computed. Since the
  number of solutions can be exponential in the size of the input,
  the search may take a lot of time and memory. Optionally, the
  number of computed solutions can be restricted to N&gt;0. Note that N
  is just an approximate value, the actual number of computed
  solutions can slightly differ from N.
  This option is available in the following modes:
  -C, -D, -F, -Fs, -Fa, -N, -R, -T, -U. It is an error to specify this
  option in any other mode. This option must not be specified
  together with the -f option.

  -b - Generate backward conflict constraints.
  Additional constraints are genereted, conveying that no two
  mp-events in the preset of any mp-conditon can belong to the
  same mp-configuration. These constraints are redundant, but
  can in certain cases improve the performance.
  This option is silently ignored if the input file is not a merged process.

  -c[s|l|COEFF=EXPR] - Specifies the coefficients for the cost function.
  This option is valid only in the encoding conflict resolution (-R) and
  logic decomposition and technology mapping (-T) modes and it is silently
  ignored unless also the -f option is specified.
  This option specifies the coefficiens for the function computing the
  cost of the transformation (signal insertion or concurrency reduction)
  on each step of the encoding conflict resolution or logic decomposition.
  This function is a weighted sum of the following components (with the
  corresponding COEFF):
    csc:  the number of unresolved CSC cores
    usc:  the number of unresolved USC cores
    del:  the number of delayed transitions
    trig: the number of triggers of output and internal transitions
    seq:  the number of sequential insertions (or |U| if a concurrency
          reduction U-n-&gt;t was applied)
    conc: the number of concurrent insertions
    lock: the number computed by adding up the following numbers for each
          pair (a,b) of non-locked signals in the modified STG:
                  1 if both a and b are inputs;
                  2 if one of a, b is an input;
                  4 if both a and b are output or internal signals;
          if the option -r is not used (i.e. concurrency reductions are not
          allowed) then the difference between the values for the modified
          and the original STGs is used instead, which coincides with 2*I+4*O,
          where I is the numbers of inputs and O is the numbers of output or
          intermal signals which are not locked with the newly inserted signal.
  The defining expressions EXPR for coefficients can use integer constants,
  the operations +, -, *, /, %%, and the following macros referring to the STG:
    #i - the number of input signals
    #o - the number of output signals
    #I - the number of internal signals
    #d - the number of dummies
    #s - the total number of signals (excluding dummies)
    #p - the number of places
    #t - the number of transitions
  They must evaluate to non-negative integers; the default expressions are:
      csc=#s*8, usc=#s*4, del=#s*2, trig=#s*1, seq=#s*4, conc=#s*8, lock=50.
  If -cs or -cl is specified then pre-defined mode-dependent expressions are
  used, which heuristically minimise the number of signals/literals.
  If several -c options are specified, they are processed from left to right.

  -d string - Specifies additional mode-dependent data.
  This option is available in the following modes:
    -F[s] (extended reachability analysis) - the string must either
       contain a REACH proterty the target state should satisfy or be of
       the form @filename to name the file containing a REACH proterty.
    -T (logic decomposition and technology mapping) - the string must
       name the file containing a gate library in the GENLIB format.
  It is an error to specify this option in any other mode.

  -f - Looking for a solution minimising the cost function (might be slow).
  Usually this means that the sum of the lengths of the traces
  is minimised, though the criterion is different in the
  normalcy (-N) and encoding conflict resolution (-R) modes.
  This option is available in the following modes:
  -C, -D, -F, -Fs, -Fa, -N, -R, -T, -U. It is an error to specify this
  option in any other mode. This option must not be specified
  together with the -a option.

  -g[[!][N]] - Specifies gates/latches used for logic decomposition.
  This option restricts the class of gates/latches which can be used in
  the main loop of the decomposition algorithm as follows: `!&#039; disables
  using latches, and N&gt;1 is the maximal allowed number of gate/latch
  inputs (not counting the feedback for latches). The other
  gates/latches in the library still may be used during the technology
  mapping phase. For example, -g! disables the use of latches but allows
  all the combinational gates from the library, -g2 allows to use only
  combinational gates and latches with up to two inputs (plus the feedback
  input for latches), and -g!2 combines the effect of -g! and -g2, i.e.
  it allows to use only combinational gates with up to two inputs.
  This option is available only in the logic decomposition (-T) mode.

  -l[+|-] - Specifies whether to generate inclusion constraints.
  Inclusion constraints usually speed up the computation,
  but might lead to incorrect results for non-conflict-free
  prefixes. If this option is not specified, inclusion
  constraints are generated iff the prefix is conflict-free.
  This option is available in the following modes:
  -C, -E, -Fs, -Fa, -G, -N, -R, -S, -T, -U. It is an error to specify
  this option in any other mode.

  -mN - Using method N (1-9).
  For some of the modes several solving methods are implemented,
  and this option allows one to specify which one is to be used.
  This option is available in the following modes:
    -D (deadlock detection):
       -m1 - use cut-offs
       -m2 (default) - ignore cut-offs
    -C, -N, -U (CSC/normalcy/USC checking):
       -m1 (default) - process all signals/places together
       -m2 - process each signal/place in turn
  It is an error to specify this option in any other mode, or
  to specify the method which is not defined for the current mode.

  -pN - Controls the use of parallel (concurrent) inserions.
  The possible values of N:
    0 - concurrent insertions are not allowed
    1 - only valid concurrent insertions of the form
        u-||n-&gt;t, where u is in ****t, are allowed
    2 - all valid concurrent insertions are allowed
  This option is valid only in the encoding conflict resolution (-R)
  and logic decomposition and technology mapping (-T) modes.
  It is an error to specify this option in any other mode.
  The default is -p0.

  -r - Allows to use concurrency reduction for encoding conflict resolution.
  This option is valid only in the encoding conflict resolution (-R) mode.
  One should be careful when using this option: the resulting STG is guaranteed
  to be correct only if all the transitions of the STG are weakly fair. Note
  that this assumption is not compositional: if concurrency reductions are
  performed both in the STG and in its environment, a deadlock can be
  introduced, even if the STG and the environment were initially weakly fair.

  -s - Store the CNF formula for an external SAT solver.
  This option is available in all modes.

  -t - Perform logic decomposition down to the gate/latch level.
  New signals are inserted until each local signal can be mapped to a single
  gate/latch in the library (perhaps, with input and/or output inversions).
  (If the option is not given, some of the local signals can be implemented
  by several gates.) This option requires more time, but produces solutions
  consistent with Petrify, so Petrify&#039;s technology mapping can be used.
  This option is valid only in the logic decomposition (-T) mode.

  -vN - The verbosity level (0&lt;=N&lt;=9, the default is 0).
  This option is available in all modes.

  -w[N] - Wait for user input before exiting (prevents the window from closing).
  The possible values of N:
    0 - do not wait for user input, exit immediately
    1 - wait for user input only if there are errors
    2 - wait for user input only if there are errors or warnings
    3 - always wait for user input
  The default is -w0, and -w is equivalent to -w3.
  This option is available in all modes.

  -x - Saves the results in mpsat.xml.
  This option is available in all modes.</pre>
</div>
</div>

                    <!-- wikipage stop -->
                                    </div>
<!--
                                    <div class="docInfo"><bdi>help/backend/mpsat.txt</bdi> · Last modified: 2018/10/31 13:32 by <bdi>danil</bdi></div>
                -->

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
<!--
            <div id="dokuwiki__pagetools">
                            <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="mpsat.html"  class="action edit" accesskey="e" rel="nofollow" title="Edit this page [E]"><span>Edit this page</span></a></li><li><a href="mpsat.html"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="mpsat.html"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li><a href="mpsat.html"  class="action export_pdf" rel="nofollow" title="Export to PDF"><span>Export to PDF</span></a></li><li class="plugin_move_page"><a href="mpsat.html"><span>Rename Page</span></a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li><li><a href="mpsat.html"  class="action siteexport_addpage" title="Export Page (Siteexport)"><span>Export Page</span></a></li><li><a href="javascript:void(0);" class="fold_unfold_all" onclick="fold_unfold_all();" rel="nofollow" title="Fold/unfold all"><span>Fold/unfold all</span></a></li><li><a href="mpsat.html"  class="action siteexport_mapid" title="Show Map-ID"" data-mapid="mpsat" onclick="copyMapIDToClipBoard.call(this); return false;"><span>Copy Map-ID: <span class="mapID" data-done="Done.">mpsat</span></span></a></li>                    </ul>
                </div>
                        </div>
-->
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
<!--
    
    <div class="buttons">
                <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../lib/tpl/dokuwiki-light-export/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://php.net" title="Powered by PHP" ><img
            src="../lib/tpl/dokuwiki-light-export/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../lib/tpl/dokuwiki-light-export/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../lib/tpl/dokuwiki-light-export/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../lib/tpl/dokuwiki-light-export/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
    <div class="userInfo">
        Logged in as:: workcraft    </div>
-->
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img  width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div></body>
</html>
