<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
<head>
    <meta charset="utf-8" />
    <title>tutorial:wtg:start - Workcraft</title>
    <script>(function(H){H.className=H.className.replace(/\bno-js\b/,'js')})(document.documentElement)</script>
    <meta name="generator" content="DokuWiki"/>
<meta name="robots" content="index,follow"/>
<meta name="keywords" content="tutorial,wtg,start"/>
<link rel="search" type="application/opensearchdescription+xml" href="../lib/exe/opensearch.html" title="Workcraft"/>
<link rel="start" href="start.html"/>
<link rel="contents" href="start.html" title="Sitemap"/>
<link rel="alternate" type="application/rss+xml" title="Changes" />
<link rel="alternate" type="application/rss+xml" title="Current namespace" />
<link rel="edit" title="Edit this page" href="start.html"/>
<link rel="alternate" type="text/html" title="Plain HTML" href="../_export/xhtml/tutorial/wtg/start.xhtml"/>
<link rel="alternate" type="text/plain" title="Wiki Markup" href="../_export/raw/tutorial/wtg/start.raw"/>
<link rel="canonical" href="https://workcraft.org/tutorial/wtg/start"/>
<link rel="stylesheet" type="text/css" href="../lib/exe/css.php.t.dokuwiki-light-export.css"/>
<!--[if gte IE 9]><!-->
<script type="text/javascript">/*<![CDATA[*/var NS='tutorial:wtg';var SIG=' --- //[[support@workcraft.org| ]] 2019/06/01 11:16//';var JSINFO = {"id":"tutorial:wtg:start","namespace":"tutorial:wtg","fastwiki":{"secedit":1,"preview":1,"fastpages":1,"save":0,"fastshow":0,"fastshow_same_ns":1,"fastshow_include":"","fastshow_exclude":"","preload":false,"preload_head":"====47hsjwycv782nwncv8b920m8bv72jmdm3929bno3b3====","preload_batchsize":false,"preload_per_page":false,"locktime":840,"usedraft":1,"text_btn_show":"Show page","templatename":"dokuwiki-light-export"},"act":"show","ajax":"ajax","move_renameokay":true,"plugin_folded":{"hide":"hide","reveal":"reveal"}};
/*!]]>*/</script>
<script type="text/javascript" charset="utf-8" src="../lib/exe/jquery.php.t.dokuwiki-light-export.js"></script>
<script type="text/javascript" charset="utf-8" src="../lib/exe/js.php.t.dokuwiki-light-export.js"></script>
<!--<![endif]-->
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="shortcut icon" href="../favicon.ico" />
<link rel="apple-touch-icon" href="../apple-touch-icon.png" />
    </head>

<body>
    <div id="dokuwiki__site"><div id="dokuwiki__top" class="site dokuwiki mode_show tpl_dokuwiki-light-export loggedIn    ">

        
<!-- ********** HEADER ********** -->
<div id="dokuwiki__header"><div class="pad group">

        <h1><a href="../start.html"  title="Workcraft start page"><img src="../logo.png" width="327" height="57" alt="" /></a></h1>
    
    <div class="tools group">
        <!-- USER TOOLS -->
<!--
                    <div id="dokuwiki__usertools">
                <h3 class="a11y">User Tools</h3>
                <ul>
                    <li><a href="start.html"  class="action admin" rel="nofollow" title="Admin">Admin</a></li><li><a href="start.html"  class="action profile" rel="nofollow" title="Profile">Profile</a></li><li><a href="start.html"  class="action logout" rel="nofollow" title="Log Out">Log Out</a></li>                </ul>
            </div>
        -->

        <!-- SEARCH TOOLS -->
<!--
        <div id="dokuwiki__searchtools">
            <h3 class="a11y"></h3>
            <form action="../start.html" accept-charset="utf-8" class="search" id="dw__search" method="get" role="search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" placeholder="Search" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><button type="submit" title="Search">Search</button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>        </div>
-->

        <!-- SITE TOOLS -->
<!--
        <div id="dokuwiki__sitetools">
            <h3 class="a11y">Site Tools</h3>
                            <div class="mobileTools">
                    <form action="..//doku.html.doku.php.html" method="get" accept-charset="utf-8"><div class="no"><input type="hidden" name="id" value="tutorial:wtg:start" /><input type="hidden" name="sectok" value="db00e60f695ccbb3f95d914ef5f2ffe1" /><select name="do" class="edit quickselect" title="Tools"><option value="">Tools</option><optgroup label="Page Tools"><option value="edit">Edit this page</option><option value="revisions">Old revisions</option><option value="backlink">Backlinks</option></optgroup><optgroup label="Site Tools"><option value="recent">Changes</option><option value="media">Manager</option><option value="index">Sitemap</option></optgroup><optgroup label="User Tools"><option value="logout">Log Out</option><option value="profile">Profile</option><option value="admin">Admin</option></optgroup></select><button type="submit">&gt;</button></div></form>                </div>
                <ul>
                    <li><a href="start.html"  class="action recent" accesskey="r" rel="nofollow" title="Changes [R]">Changes</a></li><li><a href="start.html"  class="action media" rel="nofollow" title="Manager">Manager</a></li><li><a href="start.html"  class="action index" accesskey="x" rel="nofollow" title="Sitemap [X]">Sitemap</a></li>                </ul>
                    </div>
-->
    </div>

    <!-- BREADCRUMBS -->
<!--
    -->



    <hr class="a11y" />
</div></div><!-- /header -->

        <div class="wrapper group">

            
            <!-- ********** CONTENT ********** -->
            <div id="dokuwiki__content"><div class="pad group">
                
                <div class="pageId"><span>tutorial:wtg:start</span></div>

                <div class="page group">
                                                            <!-- wikipage start -->
                    <div class="plugin_fastwiki_marker" style="display:none"></div><!-- TOC START -->
<div id="dw__toc">
<h3 class="toggle">Table of Contents</h3>
<div>

<ul class="toc">
<li class="level1"><div class="li"><a href="#modelling">Modelling</a></div></li>
<li class="level1"><div class="li"><a href="#simplification">Simplification</a></div></li>
<li class="level1"><div class="li"><a href="#validation">Validation</a></div>
<ul class="toc">
<li class="level2"><div class="li"><a href="#verification">Verification</a></div></li>
<li class="level2"><div class="li"><a href="#simulation">Simulation</a></div></li>
</ul>
</li>
<li class="level1"><div class="li"><a href="#conversion_into_stg">Conversion into STG</a></div></li>
</ul>
</div>
</div>
<!-- TOC END -->

<h1 id="design_of_waveform_transition_graph_for_basic_buck_controller">Design of Waveform Transition Graph for basic buck controller</h1>
<div class="level1">

<p>
In this tutorial we are going to learn how to design a <a href="../overview/wtg.html" class="wikilink1" title="overview:wtg">Waveform Transition Graph (WTG)</a> by means of an example: the buck controller. You can find a description of the buck controller in <a href="../synthesis/buck/start.html" class="wikilink1" title="tutorial:synthesis:buck:start"> Design of basic buck controller</a>. Check the first section and try to understand its behaviour before continuing.
</p>

</div>

<h2 id="modelling">Modelling</h2>
<div class="level2">

<p>
The buck controller presents three distinct scenarios that need to be modeled:
</p>
<ul>
<li class="level"><div class="li">
 <strong>no ZC</strong> – UV happens without ZC;
</div></li>
<li class="level"><div class="li">
 <strong>late ZC</strong> – UV is followed by ZC;
</div></li>
<li class="level"><div class="li">
 <strong>early ZC</strong> – UV happens after ZC.
</div></li>
</ul>


<p>
WTGs use a structured way of modelling different modes or scenarios, by defining a waveform, or set of waveforms, for each scenario. Our first step is then going to be defining the general structure by creating one initial state and three empty waveforms, named after each scenario. Don&#039;t forget connecting the initial state to the waveforms, but for now don&#039;t add connections from the waveforms.
</p>
<p><a class="folder" href="#folded_tutorial:wtg:start_1">Detailed instructions </a></p><div class="folded hidden" id="folded_tutorial:wtg:start_1"><ul>
<li class="level"><div class="li">
 Place a state and double click on it to set it as initial.
</div></li>
<li class="level"><div class="li">
 Create three waveforms.
</div></li>
<li class="level"><div class="li">
 Rename them by clicking once on them and editing the name field in the property editor:
</div><ul>
<li class="level"><div class="li">
 <em>no_zc</em>
</div></li>
<li class="level"><div class="li">
 <em>late_zc</em>
</div></li>
<li class="level"><div class="li">
 <em>early_zc</em>
</div></li>
</ul>
</li>
<li class="level"><div class="li">
 Add an connection from the initial state to each of the waveforms.
</div></li>
</ul>

</div>
<p>
The resulting <abbr title="Waveform Transition Graph">WTG</abbr> is shown in the following figure. 
</p>

<p>
<img src="wtg_buck-basic_structure.svg" width="185" height="197" class="svgscaleinsert mediacenter" alt="tutorial:wtg:wtg_buck-basic_structure.svg">
</p>

<p>
Adding a connection between the waveforms and the initial state would be a correct step. In that design, every scenario would play out and return to the initial state, where it would wait for <code><span style='color:red; '>uv</span></code> or <code><span style='color:red; '>zc</span></code> to be triggered. But a careful observation of the behaviour of the buck controller tells us that every scenario has an identical behaviour after <code><span style='color:red; '>uv</span></code> is triggered for low. We can model this as a different, common scenario, in which signal <code><span style='color:red; '>oc</span></code> is handled and the PMOS and NMOS transistors are returned to their initial states.
</p>

<p>
Add a new state and a new waveform, named <em>oc_handling</em>. Connect the previous waveforms to the new state and the new state to the waveform <em>oc_handling</em>. Finally, connect the new waveform to the initial state.
</p>
<p><a class="folder" href="#folded_tutorial:wtg:start_2">Detailed instructions </a></p><div class="folded hidden" id="folded_tutorial:wtg:start_2"><ul>
<li class="level"><div class="li">
 Place a new state.
</div></li>
<li class="level"><div class="li">
 Create a new waveform and rename it to <em>oc_handling</em>.
</div></li>
<li class="level"><div class="li">
 Add a connection from each of the previous waveforms to the new state.
</div></li>
<li class="level"><div class="li">
 Connect the new state to the new waveform.
</div></li>
<li class="level"><div class="li">
 Finally, add a connection from the last waveform to the initial state. 
</div></li>
</ul>

</div>
<p>
You can see the resulting model in the following figure.
</p>

<p>
<img src="wtg_buck-basic_structure2.svg" width="442" height="255" class="svgscaleinsert mediacenter" alt="tutorial:wtg:wtg_buck-basic_structure2.svg">
</p>

<p>
Now that the basic structure is defined, you can model the behaviour of every scenario. Double click on the first scenario, <em>no_zc</em>, and draw its waveform. Remember stopping after the falling edge of <code><span style='color:red; '>uv</span></code>, since this will be modeled in a different waveform.
</p>
<p><a class="folder" href="#folded_tutorial:wtg:start_3">Detailed instructions </a></p><div class="folded hidden" id="folded_tutorial:wtg:start_3"><ul>
<li class="level"><div class="li">
 This scenario uses the signals <code><span style='color:red; '>uv</span></code>, <code><span style='color:blue; '>gn</span></code>, <code><span style='color:red; '>gn_ack</span></code>, <code><span style='color:blue; '>gp</span></code> and <code><span style='color:red; '>gp_ack</span></code>. Click on the signal tool:
</div><ul>
<li class="level"><div class="li">
 Hold <kbd class="__keyboard">Shift</kbd> while clicking in the waveform to create an input signal. Rename it to <code><span style='color:red; '>uv</span></code>.
</div></li>
<li class="level"><div class="li">
 Click in the waveform to create an output signal and rename it to <code><span style='color:blue; '>gn</span></code>.
</div></li>
<li class="level"><div class="li">
 Create the rest of the signals, holding <kbd class="__keyboard">Shift</kbd> for inputs, and rename them to <code><span style='color:red; '>gn_ack</span></code>, <code><span style='color:blue; '>gp</span></code> and <code><span style='color:red; '>gp_ack</span></code>.
</div></li>
</ul>
</li>
<li class="level"><div class="li">
 Initially the NMOS transistor is ON: 
</div><ul>
<li class="level"><div class="li">
 In the property editor, set the initial state for <code><span style='color:blue; '>gn</span></code> and <code><span style='color:red; '>gn_ack</span></code> to <code>high</code>.
</div></li>
</ul>
</li>
<li class="level"><div class="li">
 When UV is detected the NMOS transistor needs to be switched OFF: 
</div><ul>
<li class="level"><div class="li">
 Double click on signal <code><span style='color:red; '>uv</span></code> to add a rising transition.
</div></li>
<li class="level"><div class="li">
 Double click on signal  <code><span style='color:blue; '>gn</span></code> to add a falling transition.
</div></li>
<li class="level"><div class="li">
 Connect the transition of <code><span style='color:red; '>uv</span></code> to the transition of <code><span style='color:blue; '>gn</span></code>.
</div></li>
</ul>
</li>
<li class="level"><div class="li">
 Wait for indication of NMOS transistor being OFF: 
</div><ul>
<li class="level"><div class="li">
 Double click on <code><span style='color:red; '>gn_ack</span></code> to create a falling transition.
</div></li>
<li class="level"><div class="li">
 Connect the transition of <code><span style='color:blue; '>gn</span></code> to the transition of <code><span style='color:red; '>gn_ack</span></code>.
</div></li>
</ul>
</li>
<li class="level"><div class="li">
 When the OFF state of NMOS is confirmed the PMOS transistor can be switched ON to charge the buck: 
</div><ul>
<li class="level"><div class="li">
 Double click on <code><span style='color:blue; '>gp</span></code> and on <code><span style='color:red; '>gn_ack</span></code> to create two rising transitions.
</div></li>
<li class="level"><div class="li">
 Connect the transition of <code><span style='color:red; '>gn_ack</span></code> to the transition of <code><span style='color:blue; '>gp</span></code> and the transition of <code><span style='color:blue; '>gp</span></code> to the transition of <code><span style='color:red; '>gp_ack</span></code>. If you hold <kbd class="__keyboard">Ctrl</kbd> while adding connections, the destination transition will become the source transition for the next connection. 
</div></li>
</ul>
</li>
<li class="level"><div class="li">
 Eventually the buck will saturate leading to reset of UV and OC conditions. Since the OC condition will be handled in a separate waveform, we can finish with the reset of UV:
</div><ul>
<li class="level"><div class="li">
 Double click on signal <code><span style='color:red; '>uv</span></code> to add a falling transition.
</div></li>
<li class="level"><div class="li">
 Connect the transition of <code><span style='color:red; '>gp_ack</span></code> to the last transition of <code><span style='color:red; '>uv</span></code>.
</div></li>
</ul>
</li>
</ul>

</div>
<p>
The <abbr title="Waveform Transition Graph">WTG</abbr> now should look similar to this.
</p>

<p>
<img src="wtg_buck-no_zc.svg" width="701" height="356" class="svgscaleinsert mediacenter" alt="tutorial:wtg:wtg_buck-no_zc.svg">
</p>

<p>
We can complete the remaining scenarios in any order, but lets first work on <em>oc_handling</em>. In the previous waveform, signals had to be created with the default name and then renamed. Now that those signals are in the <abbr title="Waveform Transition Graph">WTG</abbr>, we can reuse them by just checking a box in the property editor. Furthermore, since we have already defined the structure of the <abbr title="Waveform Transition Graph">WTG</abbr>, the initial state will be automatically set (see <a href="../help/wtg/start.html#initial_state_inference" class="wikilink1" title="help:wtg:start"> Initial state inference</a>).
</p>
<p><a class="folder" href="#folded_tutorial:wtg:start_4">Detailed instructions </a></p><div class="folded hidden" id="folded_tutorial:wtg:start_4"><ul>
<li class="level"><div class="li">
 This waveform uses the signals <code><span style='color:red; '>oc</span></code>, <code><span style='color:blue; '>gp</span></code>, <code><span style='color:red; '>gp_ack</span></code>, <code><span style='color:blue; '>gn</span></code> and <code><span style='color:red; '>gn_ack</span></code>:
</div><ul>
<li class="level"><div class="li">
 Use the signal tool to create a new signal. Remember to hold <kbd class="__keyboard">Shift</kbd> to make it an input. Rename it to <code><span style='color:red; '>oc</span></code>.
</div></li>
<li class="level"><div class="li">
 Use the property editor to declare the rest of the signals by clicking in their <em>declared</em> checkbox.
</div></li>
</ul>
</li>
<li class="level"><div class="li">
 OC starts the reset cycle by prompting the PMOS transistor to switch to OFF:
</div><ul>
<li class="level"><div class="li">
 Double click on <code><span style='color:red; '>oc</span></code> to add a rising transition.
</div></li>
<li class="level"><div class="li">
 Double click on <code><span style='color:blue; '>gp</span></code> and <code><span style='color:red; '>gp_ack</span></code> to add falling transitions.
</div></li>
<li class="level"><div class="li">
 Connect the transition of <code><span style='color:red; '>oc</span></code> to the transition of <code><span style='color:blue; '>gp</span></code> and the transition of <code><span style='color:blue; '>gp</span></code> to the transition of <code><span style='color:red; '>gp_ack</span></code>.
</div></li>
</ul>
</li>
<li class="level"><div class="li">
 After the OFF state of the PMOS transistor is confirmed the NMOS transistor is switched ON state: 
</div><ul>
<li class="level"><div class="li">
 Double click on <code><span style='color:blue; '>gn</span></code> and <code><span style='color:red; '>gn_ack</span></code> to add rising transitions.
</div></li>
<li class="level"><div class="li">
 Connect the transition of <code><span style='color:red; '>gp_ack</span></code> to the transition of <code><span style='color:blue; '>gn</span></code> and the transition of <code><span style='color:blue; '>gn</span></code> to the transition of <code><span style='color:red; '>gn_ack</span></code>.
</div></li>
</ul>
</li>
<li class="level"><div class="li">
 This leads to the release of OC and brings the controller to the initial state: 
</div><ul>
<li class="level"><div class="li">
 Double click on <code><span style='color:red; '>oc</span></code> to add a falling transition.
</div></li>
<li class="level"><div class="li">
 Connect the transition of <code><span style='color:red; '>gn_ack</span></code> to the transition of <code><span style='color:red; '>oc</span></code>.
</div></li>
</ul>
</li>
</ul>

</div>
<p>
Check that your <abbr title="Waveform Transition Graph">WTG</abbr> looks like the following figure.
</p>

<p>
<img src="wtg_buck-oc_handling.svg" width="833" height="356" class="svgscaleinsert mediacenter" alt="tutorial:wtg:wtg_buck-oc_handling.svg">
</p>

<p>
You can now work on the remaining scenarios in any order. Thanks to the last step, the initial states will be inferred, and most of the signals, except for <code><span style='color:red; '>zc</span></code>, can be declared with one click. 
</p>

<p>
The <em>late ZC</em> scenario is very similar to <em>no ZC</em>. The switching of ZC happens concurrently with that of the NMOS and PMOS transistors. Complete this scenario.
</p>
<p><a class="folder" href="#folded_tutorial:wtg:start_5">Detailed instructions </a></p><div class="folded hidden" id="folded_tutorial:wtg:start_5"><ul>
<li class="level"><div class="li">
 Create all the transitions and signals form the <em>no ZC</em> scenario .
</div></li>
<li class="level"><div class="li">
 Use the signal tool to create a new input signal and rename it to <code><span style='color:red; '>zc</span></code>.
</div></li>
<li class="level"><div class="li">
 Double click on signal <code><span style='color:red; '>zc</span></code> twice, to create a rising and a falling transition.
</div></li>
<li class="level"><div class="li">
 Connect the raising transition for signal <code><span style='color:red; '>uv</span></code> with the raising transition for signal <code><span style='color:red; '>zc</span></code>.
</div></li>
<li class="level"><div class="li">
 Connect the falling transition for signal <code><span style='color:red; '>zc</span></code> with the failling transition for signal <code><span style='color:red; '>uv</span></code>.
</div></li>
</ul>

</div>
<p>
The <abbr title="Waveform Transition Graph">WTG</abbr> should now look like this.
</p>

<p>
<img src="wtg_buck-late_zc.svg" width="833" height="480" class="svgscaleinsert mediacenter" alt="tutorial:wtg:wtg_buck-late_zc.svg">
</p>

<p>
Finally, only the scenario for early arrival of ZC remains. In this case, ZC arrives before UV and the NMOS transistor has to be switched OFF without waiting for UV. However, switching the PMOS transistor ON is still delayed until UV condition.
</p>
<p><a class="folder" href="#folded_tutorial:wtg:start_6">Detailed instructions </a></p><div class="folded hidden" id="folded_tutorial:wtg:start_6"><ul>
<li class="level"><div class="li">
 This scenario uses all the signals except for <code><span style='color:red; '>oc</span></code>:
</div><ul>
<li class="level"><div class="li">
 Use the property panel to declare <code><span style='color:red; '>zc</span></code>, <code><span style='color:red; '>uv</span></code>, <code><span style='color:blue; '>gn</span></code>, <code><span style='color:red; '>gn_ack</span></code>, <code><span style='color:blue; '>gp</span></code> and <code><span style='color:red; '>gp_ack</span></code>.
</div></li>
</ul>
</li>
<li class="level"><div class="li">
 An early arrival of ZC prompts this scenario. This triggers the NMOS and UV:
</div><ul>
<li class="level"><div class="li">
 Double click on <code><span style='color:red; '>zc</span></code> and <code><span style='color:red; '>uv</span></code> to add rising transitions.
</div></li>
<li class="level"><div class="li">
 Double click on <code><span style='color:blue; '>gn</span></code> and <code><span style='color:red; '>gn_ack</span></code> to add falling transitions.
</div></li>
<li class="level"><div class="li">
 Connect the transition of <code><span style='color:red; '>zc</span></code> to the transitions of <code><span style='color:blue; '>gn</span></code> and <code><span style='color:red; '>uv</span></code>.
</div></li>
<li class="level"><div class="li">
 Connect the transition of <code><span style='color:blue; '>gn</span></code> to the transition of <code><span style='color:red; '>gn_ack</span></code>.
</div></li>
</ul>
</li>
<li class="level"><div class="li">
 The PMOS transistor waits for UV and for the NMOS transistor before switching to ON:
</div><ul>
<li class="level"><div class="li">
 Double click on <code><span style='color:blue; '>gp</span></code> to add a rising transition.
</div></li>
<li class="level"><div class="li">
 Connect the transitions of <code><span style='color:red; '>uv</span></code> and <code><span style='color:red; '>gn_ack</span></code> to the transition of <code><span style='color:blue; '>gp</span></code>.
</div></li>
</ul>
</li>
<li class="level"><div class="li">
 The switching of the PMOS transistor has to be acknowledged. After that and after ZC is disabled, UV can be reseted:
</div><ul>
<li class="level"><div class="li">
 Double click on <code><span style='color:red; '>gp_ack</span></code> to add a rising transition.
</div></li>
<li class="level"><div class="li">
 Double click on <code><span style='color:red; '>zc</span></code> and <code><span style='color:red; '>uv</span></code> to add falling transitions.
</div></li>
<li class="level"><div class="li">
 Connect the transition of <code><span style='color:blue; '>gp</span></code> to the transition of <code><span style='color:red; '>gp_ack</span></code> and to the fall transition of <code><span style='color:red; '>zc</span></code>.
</div></li>
<li class="level"><div class="li">
 Connect the transition of <code><span style='color:red; '>gp_ack</span></code> and the fall transition of <code><span style='color:red; '>zc</span></code> to the fall transition of <code><span style='color:red; '>uv</span></code>.
</div></li>
</ul>
</li>
</ul>

</div>
<p>
The finished <abbr title="Waveform Transition Graph">WTG</abbr> should be similar to the following figure.
</p>

<p>
<img src="wtg_buck-early_zc.svg" width="833" height="535" class="svgscaleinsert mediacenter" alt="tutorial:wtg:wtg_buck-early_zc.svg">
</p>

</div>

<h2 id="simplification">Simplification</h2>
<div class="level2">

<p>
The <abbr title="Waveform Transition Graph">WTG</abbr> that you designed is already complete and valid, but <abbr title="Waveform Transition Graph">WTG</abbr> models allow simplifying some behaviours. Consider the scenarios <em>no_zc</em> and <em>late_zc</em>. They only differ in the triggers for signal <code><span style='color:red; '>zc</span></code>. Yet this signal is triggered by an input signals and only triggers another trigger signal. This tells us that <code><span style='color:red; '>zc</span></code> has no bearing in the output signals that we have to generate. In fact, the only reason we even have these two different scenarios is because the resulting circuit should expect <code><span style='color:red; '>zc</span></code> to rise and fall… and ignore it. <abbr title="Waveform Transition Graph">WTG</abbr> allows us to explicitly model that a certain signal should be ignored between specific input transitions. 
</p>

<p>
Rename the waveform <em>late_zc</em> into <em>late_or_not_zc</em> and edit it. Click on the raise transition for <code><span style='color:red; '>zc</span></code> and set the direction to <code>unstable</code>. This specifies that <code><span style='color:red; '>zc</span></code> might be triggered zero or more times and it should be ignored. The last transition of <code><span style='color:red; '>zc</span></code>, and the connection to <code><span style='color:red; '>uv</span></code>, guarantees that <code><span style='color:red; '>zc</span></code> will be set at <code>low</code> before the falling transition of <code><span style='color:red; '>uv</span></code>. With this change, <em>late_or_not_zc</em> already models the behaviour of <em>no_zc</em>, so delete the waveform <em>no_zc</em>.
</p>

<p>
The final and simplified <abbr title="Waveform Transition Graph">WTG</abbr> should be similar to the following figure.
</p>

<p>
<img src="wtg_buck-simplified.svg" width="833" height="378" class="svgscaleinsert mediacenter" alt="tutorial:wtg:wtg_buck-simplified.svg">
</p>

</div>

<h2 id="validation">Validation</h2>
<div class="level2">

<p>
This section discusses two ways in which you can validate that your design is correct. In particular, verification that the model is correctly formed and simulation to ensure that it works as expected.
</p>

</div>

<h3 id="verification">Verification</h3>
<div class="level3">

<p>
Workcraft includes three verification tools that check different properties of a <abbr title="Waveform Transition Graph">WTG</abbr> that should be satisfied by any model. You can access them in the <em>Verification</em> menu.
</p>

</div>

<h4 id="input_properness">Input properness</h4>
<div class="level4">

<p>
An internal signal cannot trigger an input. This restriction is important when the model we design is going to be implemented as a circuit, because internal signals are not observed by the environment. As such, an input signal cannot react (be triggered) by an internal signal. Note that this restriction cannot be violated in this example, since no internal signals are used.
</p>

<p>
Nonetheless, this restriction can be violated in WTGs in two ways:
</p>
<ul>
<li class="level"><div class="li">
 A connection between a transition of an internal signal and a transition of an input signal.
</div></li>
<li class="level"><div class="li">
 When there is an internal signal transition without any connection to other transitions in a waveform. If this waveform is connected to a state, that at the same time is connected to a waveform in which an input signal can be fired first. In this case, the internal signal is effectively triggering this input.
</div></li>
</ul>


</div>

<h4 id="reachability">Reachability</h4>
<div class="level4">

<p>
Checks that there are no states, waveforms or transitions that cannot be reached by the initial state. The existence of unreachable elements often indicates a mistake in the design.
</p>

</div>

<h4 id="soundness_and_consistency">Soundness and consistency</h4>
<div class="level4">

<p>
Checks that a <abbr title="Waveform Transition Graph">WTG</abbr> is consistent and has a sound structure. 
</p>

<p>
Consistency refers to the states of signals having correct values at any point. In WTGs, this is often violated in the initial states of signals. For example, when the initial state of a signal does not match the state at the end of the previous waveform.
</p>

<p>
Soundness checks ensure that the structure of the <abbr title="Waveform Transition Graph">WTG</abbr> is correctly form. It has numerous checks, such as making sure the initial state is defined or that there are no unconnected transitions. 
</p>

</div>

<h3 id="simulation">Simulation</h3>
<div class="level3">

<p>
You can use the simulation tool <img src="../help/core/editor_tools-simulate.png" class="media" title="[M] Simulate" alt="[M] Simulate" /> to ensure the <abbr title="Waveform Transition Graph">WTG</abbr> performs as you expect. At any moment, transitions that can be fired are highlighted in orange. Clicking on them will fire them and show the which transitions can be fired afterwards. You can compare the simulation traces to the buck controller specification.
</p>

</div>

<h2 id="conversion_into_stg">Conversion into STG</h2>
<div class="level2">

<p>
A correctly formed <abbr title="Waveform Transition Graph">WTG</abbr> (one that passes the Soundness checks from the <em>Verification</em> menu) can be converted into an <abbr title="Signal Transition Graph">STG</abbr>. This allows you to perform more advanced verification checks that are available for STGs. More importantly, this also allows you to synthesize the circuit derived from the <abbr title="Waveform Transition Graph">WTG</abbr> (see <a href="../help/stg/start.html#synthesis" class="wikilink1" title="help:stg:start"> Synthesis of STG</a>).
</p>

<p>
In order to convert a <abbr title="Waveform Transition Graph">WTG</abbr> into a <abbr title="Signal Transition Graph">STG</abbr>, go to the <em>Conversion</em> menu and click <em>Signal Transition Graph</em>. This will prompt a soundness check and, if satisfied, a new window will open with the derived <abbr title="Signal Transition Graph">STG</abbr>.
</p>

</div>

                    <!-- wikipage stop -->
                                    </div>
<!--
                                    <div class="docInfo"><bdi>tutorial/wtg/start.txt</bdi> · Last modified: 2018/10/31 21:22 by <bdi>danil</bdi></div>
                -->

                            </div></div><!-- /content -->

            <hr class="a11y" />

            <!-- PAGE ACTIONS -->
<!--
            <div id="dokuwiki__pagetools">
                            <h3 class="a11y">Page Tools</h3>
                <div class="tools">
                    <ul>
                        <li><a href="start.html"  class="action edit" accesskey="e" rel="nofollow" title="Edit this page [E]"><span>Edit this page</span></a></li><li><a href="start.html"  class="action revs" accesskey="o" rel="nofollow" title="Old revisions [O]"><span>Old revisions</span></a></li><li><a href="start.html"  class="action backlink" rel="nofollow" title="Backlinks"><span>Backlinks</span></a></li><li class="plugin_move_page"><a href="start.html"><span>Rename Page</span></a></li><li><a href="#dokuwiki__top"  class="action top" accesskey="t" rel="nofollow" title="Back to top [T]"><span>Back to top</span></a></li><li><a href="start.html"  class="action siteexport_addpage" title="Export Page (Siteexport)"><span>Export Page</span></a></li><li><a href="javascript:void(0);" class="fold_unfold_all" onclick="fold_unfold_all();" rel="nofollow" title="Fold/unfold all"><span>Fold/unfold all</span></a></li><li><a href="start.html"  class="action siteexport_mapid" title="Show Map-ID"" data-mapid="start" onclick="copyMapIDToClipBoard.call(this); return false;"><span>Copy Map-ID: <span class="mapID" data-done="Done.">start</span></span></a></li>                    </ul>
                </div>
                        </div>
-->
        </div><!-- /wrapper -->

        
<!-- ********** FOOTER ********** -->
<div id="dokuwiki__footer"><div class="pad">
<!--
    
    <div class="buttons">
                <a href="http://www.dokuwiki.org/donate" title="Donate" ><img
            src="../lib/tpl/dokuwiki-light-export/images/button-donate.gif" width="80" height="15" alt="Donate" /></a>
        <a href="http://php.net" title="Powered by PHP" ><img
            src="../lib/tpl/dokuwiki-light-export/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>
        <a href="http://validator.w3.org/check/referer" title="Valid HTML5" ><img
            src="../lib/tpl/dokuwiki-light-export/images/button-html5.png" width="80" height="15" alt="Valid HTML5" /></a>
        <a href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS" ><img
            src="../lib/tpl/dokuwiki-light-export/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>
        <a href="http://dokuwiki.org/" title="Driven by DokuWiki" ><img
            src="../lib/tpl/dokuwiki-light-export/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>
    </div>
    <div class="userInfo">
        Logged in as:: workcraft    </div>
-->
</div></div><!-- /footer -->

    </div></div><!-- /site -->

    <div class="no"><img  width="2" height="1" alt="" /></div>
    <div id="screen__mode" class="no"></div></body>
</html>
